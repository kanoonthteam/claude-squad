Write Apex test classes for a complex trigger with Test.startTest/stopTest, mock callouts, and 100% coverage across scenarios