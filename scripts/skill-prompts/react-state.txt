Implement global state management for a shopping cart using Zustand with persistence, optimistic updates, and sync across tabs