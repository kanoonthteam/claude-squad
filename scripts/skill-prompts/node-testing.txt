Write integration tests for a Node.js API with database transactions, external service mocks, and authentication flows